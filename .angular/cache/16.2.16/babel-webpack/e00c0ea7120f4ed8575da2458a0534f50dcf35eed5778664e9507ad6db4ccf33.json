{"ast":null,"code":"import { EMPTY } from 'rxjs';\nimport { HttpHeaders, HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst headers = new HttpHeaders().set('Accept', 'application/json');\nexport class HotelService {\n  constructor(http) {\n    this.http = http;\n    this.hotelList = [];\n    this.api = 'http://www.angular.at/api/hotel';\n  }\n  findById(id) {\n    const url = `${this.api}/${id}`;\n    const params = {\n      id: id\n    };\n    return this.http.get(url, {\n      params,\n      headers\n    });\n  }\n  load(filter) {\n    this.find(filter).subscribe({\n      next: result => {\n        this.hotelList = result;\n      },\n      error: err => {\n        console.error('error loading', err);\n      }\n    });\n  }\n  find(filter) {\n    const params = {\n      'city': filter.city\n    };\n    return this.http.get(this.api, {\n      params,\n      headers\n    });\n  }\n  save(entity) {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/${entity.id.toString()}`;\n      params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.put(url, entity, {\n        headers,\n        params\n      });\n    } else {\n      url = `${this.api}`;\n      return this.http.post(url, entity, {\n        headers,\n        params\n      });\n    }\n  }\n  delete(entity) {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/${entity.id.toString()}`;\n      params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.delete(url, {\n        headers,\n        params\n      });\n    }\n    return EMPTY;\n  }\n  static {\n    this.Éµfac = function HotelService_Factory(t) {\n      return new (t || HotelService)(i0.ÉµÉµinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.Éµprov = /*@__PURE__*/i0.ÉµÉµdefineInjectable({\n      token: HotelService,\n      factory: HotelService.Éµfac,\n      providedIn: 'root' // ðŸ”¹ Esto hace que el servicio estÃ© disponible en toda la aplicaciÃ³n\n    });\n  }\n}","map":{"version":3,"names":["EMPTY","HttpHeaders","HttpParams","headers","set","HotelService","constructor","http","hotelList","api","findById","id","url","params","get","load","filter","find","subscribe","next","result","error","err","console","city","save","entity","toString","put","post","delete","i0","ÉµÉµinject","i1","HttpClient","factory","Éµfac","providedIn"],"sources":["C:\\Users\\ghost\\OneDrive\\Escritorio\\DesarrolloWeb\\angular-crud\\demo\\src\\app\\hotel\\hotel.service.ts"],"sourcesContent":["import { Hotel } from './hotel';\nimport { HotelFilter } from './hotel-filter';\nimport { Injectable } from '@angular/core';\nimport { EMPTY, Observable } from 'rxjs';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\n\nconst headers = new HttpHeaders().set('Accept', 'application/json');\n\n@Injectable({\n  providedIn: 'root'  // ðŸ”¹ Esto hace que el servicio estÃ© disponible en toda la aplicaciÃ³n\n})\nexport class HotelService {\n  hotelList: Hotel[] = [];\n  api = 'http://www.angular.at/api/hotel';\n\n  constructor(private http: HttpClient) { }\n\n  findById(id: string): Observable<Hotel> {\n    const url = `${this.api}/${id}`;\n    const params = { id: id };\n    return this.http.get<Hotel>(url, { params, headers });\n  }\n\n  load(filter: HotelFilter): void {\n    this.find(filter).subscribe({\n      next: result => { this.hotelList = result; },\n      error: err => { console.error('error loading', err); }\n    });\n  }\n\n  find(filter: HotelFilter): Observable<Hotel[]> {\n    const params = { 'city': filter.city };\n    return this.http.get<Hotel[]>(this.api, { params, headers });\n  }\n\n  save(entity: Hotel): Observable<Hotel> {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/${entity.id.toString()}`;\n      params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.put<Hotel>(url, entity, { headers, params });\n    } else {\n      url = `${this.api}`;\n      return this.http.post<Hotel>(url, entity, { headers, params });\n    }\n  }\n\n  delete(entity: Hotel): Observable<Hotel> {\n    let params = new HttpParams();\n    let url = '';\n    if (entity.id) {\n      url = `${this.api}/${entity.id.toString()}`;\n      params = new HttpParams().set('ID', entity.id.toString());\n      return this.http.delete<Hotel>(url, { headers, params });\n    }\n    return EMPTY;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}